<template>
  <div class="container flex flex-col items-center justify-center p-20">
    <svg
      id="svg"
      ref="svgElement"
      version="1.1"
      width="1000"
      height="500"
      viewBox="0, 0, 400,123.76681614349775"
      class="w-3/4 md:w-1/2 h-auto z-2"
    >
      <g>
        <path
          id="path0"
          fill="none"
          d="M81.805 9.607 C 81.110 10.032,79.979 11.119,79.294 12.024 C 68.050 26.866,49.588 44.797,45.856 44.502 L 44.237 44.374 45.637 41.220 C 46.406 39.485,48.259 35.321,49.754 31.966 C 51.249 28.612,52.996 24.543,53.635 22.923 C 54.274 21.304,55.622 18.201,56.631 16.027 C 58.301 12.427,58.855 10.515,58.227 10.515 C 56.198 10.515,53.941 14.738,44.124 36.901 C 38.317 50.012,38.666 49.418,36.292 50.237 C 35.185 50.618,32.103 51.131,29.443 51.375 C 24.254 51.853,23.554 52.127,23.554 53.679 C 23.554 54.810,30.031 55.153,34.020 54.234 C 36.780 53.597,36.968 52.912,31.024 65.195 C 24.978 77.686,23.673 81.102,24.701 81.738 C 25.625 82.309,27.176 80.336,29.246 75.959 C 30.459 73.393,33.528 67.035,36.065 61.830 L 40.678 52.366 43.489 50.945 C 45.034 50.163,46.367 49.595,46.451 49.683 C 46.535 49.771,47.306 51.735,48.164 54.048 C 49.840 58.563,53.615 67.303,55.529 71.098 C 59.900 79.764,68.749 79.981,76.564 71.613 C 79.911 68.029,79.887 67.365,76.487 69.526 C 66.505 75.871,62.468 74.849,57.719 64.774 C 54.164 57.234,54.060 57.002,52.151 52.366 C 51.199 50.053,50.328 47.953,50.216 47.699 C 50.104 47.446,50.731 46.699,51.610 46.039 C 52.488 45.379,53.302 44.734,53.417 44.604 C 53.533 44.475,54.850 43.329,56.344 42.058 C 59.769 39.144,66.316 32.616,69.611 28.828 C 70.999 27.233,72.907 25.062,73.852 24.005 C 81.813 15.091,84.998 10.519,84.045 9.371 C 83.466 8.673,83.311 8.689,81.805 9.607 M296.508 35.947 C 288.282 40.234,287.951 49.483,296.097 47.456 C 300.120 46.455,300.132 44.834,296.116 44.955 C 292.675 45.058,292.725 42.418,296.214 39.827 C 301.363 36.005,306.399 38.893,306.410 45.676 C 306.418 50.852,299.789 61.697,296.982 61.099 C 288.299 59.247,281.388 63.955,281.388 71.720 C 281.388 77.658,287.017 76.696,295.763 69.263 C 299.253 66.298,298.714 66.182,304.101 71.051 C 308.767 75.269,314.178 75.003,317.836 70.376 C 319.987 67.654,319.860 67.678,321.232 69.722 C 327.670 79.307,344.069 64.637,340.529 52.460 C 337.290 41.318,322.095 47.268,319.874 60.548 C 319.668 61.779,319.210 62.696,318.536 63.226 C 317.973 63.670,316.937 65.051,316.234 66.296 C 314.826 68.791,313.121 70.244,311.607 70.239 C 310.854 70.236,304.804 65.828,302.057 63.280 C 301.974 63.203,302.942 61.662,304.208 59.856 C 311.237 49.827,312.597 42.780,308.454 37.856 C 305.864 34.778,300.421 33.908,296.508 35.947 M357.729 36.594 C 353.603 37.488,349.725 42.829,351.894 44.629 C 352.547 45.172,354.995 43.081,354.995 41.980 C 354.995 41.017,358.235 40.001,359.185 40.667 C 363.051 43.375,362.200 50.899,357.389 56.534 C 356.039 58.115,355.931 58.160,354.586 57.691 C 347.957 55.380,341.115 59.159,341.115 65.131 C 341.115 70.974,349.170 70.426,354.963 64.189 C 356.660 62.363,358.550 63.250,365.082 68.939 C 369.203 72.527,370.630 73.238,373.642 73.198 C 374.837 73.182,376.814 73.293,378.036 73.443 C 387.278 74.580,396.614 65.533,391.752 60.151 C 387.835 55.816,381.069 57.390,376.889 63.609 C 374.605 67.008,374.157 66.596,374.443 61.359 C 374.950 52.069,380.777 46.616,389.494 47.274 C 394.709 47.668,396.582 45.184,392.169 43.727 C 381.579 40.232,369.241 51.261,369.788 63.734 C 369.942 67.237,369.872 67.342,368.422 65.773 C 366.866 64.089,362.111 60.575,361.016 60.300 C 359.679 59.965,359.747 59.740,362.158 56.555 C 367.116 50.004,367.886 45.609,364.929 40.723 C 362.931 37.421,360.458 36.002,357.729 36.594 M139.222 49.527 C 136.526 50.874,133.840 56.332,133.055 62.058 C 132.743 64.334,132.103 65.033,128.642 66.878 C 123.360 69.693,121.470 64.656,125.279 57.917 C 126.796 55.233,126.538 53.838,124.524 53.838 C 123.184 53.838,122.819 54.228,121.051 57.545 C 119.317 60.799,111.370 68.980,109.944 68.980 C 108.967 68.980,109.257 66.262,110.504 63.718 C 111.393 61.906,111.549 61.219,111.198 60.659 C 110.029 58.795,107.169 59.986,106.364 62.672 C 105.487 65.600,101.365 69.548,100.040 68.729 C 99.231 68.229,99.901 63.441,101.179 60.593 C 102.565 57.506,102.308 56.584,100.054 56.551 C 99.272 56.539,97.876 56.180,96.951 55.751 C 94.385 54.564,89.079 54.608,86.775 55.835 C 81.009 58.907,78.869 71.522,83.836 73.161 C 86.575 74.065,93.147 71.312,94.857 68.543 C 95.049 68.233,95.434 68.827,95.850 70.079 C 96.940 73.353,99.956 74.008,103.476 71.736 L 104.955 70.781 106.109 72.040 C 108.262 74.390,111.608 73.293,116.288 68.703 L 119.222 65.825 119.466 67.508 C 120.253 72.939,125.293 73.870,131.409 69.714 L 133.018 68.620 134.054 69.852 C 136.169 72.365,140.558 71.213,146.015 66.711 L 148.785 64.426 147.999 66.951 C 145.457 75.118,149.495 74.839,153.868 66.545 C 154.060 66.181,155.348 65.965,157.788 65.888 L 161.423 65.774 161.608 68.002 C 162.074 73.626,166.444 73.253,172.431 67.078 C 174.936 64.495,175.432 64.136,175.185 65.086 C 175.018 65.724,174.371 68.707,173.746 71.714 L 172.611 77.182 169.459 79.359 C 158.512 86.920,153.612 98.718,161.768 97.876 C 169.016 97.129,176.582 86.474,176.651 76.918 C 176.654 76.541,176.950 75.989,177.310 75.691 C 178.501 74.702,178.979 73.459,177.958 74.006 C 177.149 74.439,177.111 74.380,177.356 73.091 C 177.699 71.288,177.655 71.318,179.784 71.449 C 184.151 71.718,189.529 66.464,191.806 59.703 C 194.191 52.624,188.770 48.538,182.374 52.594 C 181.295 53.278,179.959 53.838,179.404 53.838 C 178.741 53.838,178.071 54.307,177.448 55.205 C 173.568 60.803,167.634 67.298,166.399 67.298 C 164.958 67.298,165.439 62.546,167.182 59.572 C 168.466 57.381,168.515 56.537,167.395 55.937 C 166.159 55.276,164.551 56.215,163.426 58.254 C 162.291 60.312,160.151 61.832,158.403 61.823 C 156.073 61.812,155.974 61.493,157.156 57.819 C 159.847 49.457,157.484 47.015,153.046 53.571 C 147.739 61.410,139.442 68.210,137.326 66.454 C 136.827 66.040,137.326 65.291,140.291 62.008 C 146.275 55.382,147.555 52.539,145.426 50.599 C 143.267 48.632,141.593 48.343,139.222 49.527 M334.366 51.294 C 337.658 54.818,336.794 61.531,332.428 66.350 C 328.909 70.233,327.132 69.980,323.897 65.135 L 322.181 62.566 324.603 58.377 C 329.235 50.363,331.775 48.520,334.366 51.294 M141.452 55.128 C 141.046 55.815,139.975 57.083,139.072 57.947 L 137.431 59.516 137.720 58.254 C 138.469 54.983,140.160 52.794,141.419 53.468 C 142.157 53.863,142.158 53.932,141.452 55.128 M222.092 53.550 C 221.401 53.898,220.581 55.313,219.363 58.254 C 216.833 64.365,211.909 71.083,209.960 71.083 C 208.546 71.083,210.046 62.845,211.712 61.463 C 214.984 58.749,204.762 54.949,199.132 56.785 C 191.517 59.268,186.149 71.090,190.363 76.098 C 192.739 78.921,199.857 76.175,204.131 70.788 C 205.206 69.433,205.458 69.573,205.535 71.565 C 205.671 75.118,208.389 76.675,211.379 74.911 C 213.150 73.866,213.149 73.747,211.387 78.181 C 209.483 82.972,205.687 100.265,205.680 104.183 C 205.679 104.690,206.140 105.637,206.705 106.286 L 207.731 107.466 208.581 106.625 C 209.467 105.747,209.702 104.933,214.940 84.543 C 218.040 72.476,218.601 70.923,221.059 67.586 C 222.986 64.970,223.333 65.161,224.411 69.429 C 226.712 78.540,231.688 78.551,236.892 69.457 C 238.309 66.980,238.810 67.137,238.877 70.080 C 238.981 74.707,243.499 74.678,246.827 70.029 L 248.488 67.710 248.657 70.764 C 249.200 80.584,256.503 81.504,264.114 72.711 C 267.629 68.651,267.966 67.509,265.026 69.621 C 254.518 77.170,250.823 74.996,252.994 62.543 C 254.198 55.640,251.616 55.096,247.936 61.477 C 242.836 70.319,241.936 70.645,242.556 63.429 C 243.015 58.078,242.773 56.782,241.311 56.782 C 239.712 56.782,239.086 57.563,236.137 63.236 C 231.969 71.257,229.750 73.283,228.830 69.909 C 226.540 61.505,225.983 60.608,223.387 61.127 L 222.177 61.369 223.380 58.550 C 225.193 54.301,224.665 52.252,222.092 53.550 M187.460 56.014 C 189.261 57.707,188.002 61.360,184.288 65.213 C 182.039 67.547,181.036 67.808,180.431 66.219 C 178.491 61.116,184.148 52.903,187.460 56.014 M93.481 58.907 C 94.755 59.262,95.058 59.543,95.058 60.377 C 95.058 60.945,95.247 61.409,95.478 61.409 C 97.066 61.409,91.793 67.006,88.737 68.565 C 85.771 70.078,84.861 69.417,84.904 65.782 C 84.977 59.720,87.918 57.363,93.481 58.907 M205.523 61.090 C 206.862 61.700,206.913 61.579,203.611 65.626 C 197.025 73.699,191.324 75.486,193.067 68.931 C 194.930 61.925,200.147 58.641,205.523 61.090 M352.016 61.379 C 352.793 61.871,347.635 65.286,346.386 65.107 C 345.015 64.910,345.028 62.962,346.406 61.878 C 347.603 60.937,350.860 60.647,352.016 61.379 M387.611 62.441 C 391.570 66.401,381.287 72.127,376.699 68.518 C 375.197 67.336,375.232 67.267,378.444 65.089 C 384.147 61.222,385.889 60.719,387.611 62.441 M294.777 65.135 C 294.354 66.227,287.185 71.499,286.120 71.502 C 284.463 71.507,286.123 66.891,288.243 65.598 C 289.627 64.755,295.075 64.369,294.777 65.135 M171.565 83.124 C 170.137 88.947,165.686 93.822,162.281 93.294 C 161.162 93.120,162.437 91.230,167.760 85.174 C 172.083 80.255,172.297 80.140,171.565 83.124 "
          stroke="#0d0d0d"
          class="filter invert-0 dark:invert"
          stroke-width="1"
        ></path>
      </g>
    </svg>
    <div class="flex flex-col">
      <div
        class="dark:border-neutral-700 dark:bg-neutral-800/60 max-h-200 mx-auto
          bg-white rounded-xl shadow-md overflow-hidden mb-16"
      >
        <div class="p-8 flex flex-col gap-y-3">
          <p class="mt-2 text-neutral-500 dark:text-neutral-300">
            С 2021 года мы перед каждыми праздниками создаем особенные
            календари. Это не серийная продукция, а уникальный проект с
            неповторяющимися акварельными иллюстрациями — нежными этюдами
            цветов, пейзажей или натюрмортов, иногда дополненными легкими
            набросками.
          </p>
          <p class="mt-2 text-neutral-600 dark:text-neutral-300">
            К 2026 году мы впервые подготовили целых
            <span class="font-semibold text-lg text-black dark:text-white">
              3 вида календарей
            </span>
            ! Это красивый и душевный подарок с ограниченным тиражом для вас и
            ваших близких. Качественная печать, яркие цвета и уютные сюжеты
            будут круглый год создавать праздничное настроение в вашем доме.
          </p>
        </div>
      </div>

      <!-- Products Grid -->
      <section
        class="grid md:grid-cols-2 md:grid-rows-2 items-start justify-center"
      >
        <div
          v-for="calendar in calendars"
          :key="calendar.id"
          class="flex flex-col items-center gap-y-10"
        >
          <AppHeroImage :image-src="calendar.image[0]" />
          <AppHeroContent>
            <template #title>
              {{ calendar.title }}
            </template>
            <template #buttons>
              <UButton
                icon="heroicons:shopping-cart"
                size="xl"
                variant="outline"
                :to="`/shop/${calendar.id}`"
              >
                купить!
              </UButton>
            </template>
          </AppHeroContent>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup lang="ts">
  import { gsap } from 'gsap'
  import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin'
  import { onMounted } from 'vue'
  const shopStore = useShopStore()
  const { allProducts } = storeToRefs(shopStore)

  const calendars = computed(() => {
    return allProducts.value.filter(product => product.categoryId === '5')
  })

  onMounted(() => {
    scrollTo(0, 0)
    gsap.registerPlugin(DrawSVGPlugin)

    animateSVG()
  })

  const animateSVG = () => {
    gsap.fromTo(
      '#path0',
      { drawSVG: '0%' },
      {
        drawSVG: '100%',
        duration: 5,
        ease: 'power2.inOut',
      },
    )
  }
</script>
